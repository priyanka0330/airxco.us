{"request":{"hurl":"https:\/\/airxco.us\/wp-content\/themes\/transport\/js\/functions.js","inline":"","enable_minification":true,"type":"js","handle":"functions","version":"1.0.0"},"log":{"url":"\/wp-content\/themes\/transport\/js\/functions.js","success":true},"code":"jQuery.fn.isOnScreen=function(){var win=jQuery(window);var viewport={top:win.scrollTop(),left:win.scrollLeft()};viewport.right=viewport.left+win.width();viewport.bottom=viewport.top+win.height();var bounds=this.offset();bounds.right=bounds.left+this.outerWidth();bounds.bottom=bounds.top+this.outerHeight();return(!(viewport.right<bounds.left||viewport.left>bounds.right||viewport.bottom<bounds.top||viewport.top>bounds.bottom))}\nvar anpsSmoothScroll=(function(w,d,$){var SmoothScroll=function(node){var adjusterNode=null\nvar extraOffset=10\nvar adminBar=d.getElementById('wpadminbar')\nvar setAdjuster=function(node,offset){adjusterNode=node\nif(offset)extraOffset=offset}\nvar getAdjuster=function(){var adminBarHeight=adminBar?adminBar.getBoundingClientRect().height:0\nif(!adjusterNode)return adminBarHeight+extraOffset\nvar adjusterHeight=adjusterNode.getBoundingClientRect().height\nreturn(['fixed','sticky'].indexOf(w.getComputedStyle(adjusterNode).position)>-1)?adjusterHeight+adminBarHeight+extraOffset:adminBarHeight+extraOffset}\nvar scrollToNode=function(node,speed){var speed=speed||600\nreturn new Promise(function(resolve){if(!node)return resolve(null)\nw.requestAnimationFrame(function(){var maxScroll=d.body.scrollHeight-w.innerHeight\nvar nodeScrollOffset=Math.round(node.getBoundingClientRect().top-getAdjuster())\nvar scroll=Math.min(w.scrollY+nodeScrollOffset,maxScroll)\n$('html, body').animate({scrollTop:scroll},speed,resolve)})})}\nif(node)setAdjuster(node)\nreturn{setAdjuster:setAdjuster,to:scrollToNode}}\nreturn SmoothScroll()})(window,document,jQuery);(function(w,$){'use strict'\nvar isJqueryReady=!1\nvar $containerMasonry=null\nvar topOffset=0\nvar $siteHeader=null\nvar changeTopOffset=null\nvar isStickyHeader=!1\nvar scrollTopEl=null\nvar scrollTopVisible=!1\nfunction throttle(fn,wait,raf){wait=wait||0\nraf=typeof raf==='boolean'?raf:!0\nvar waiting=!1\nreturn function(){if(waiting)return\nvar _this=this\nvar _args=arguments\nwaiting=!0\nwindow.setTimeout(function(){waiting=!1\nif(raf){window.requestAnimationFrame(function(){fn.apply(_this,_args)})}else{fn.apply(_this,_args)}},wait)}}\nfunction checkCoordinates(str){if(!str)return!1\nvar coords=str.split(',')\nif(coords.length!==2)return!1\nreturn coords.reduce(function(acc,cur){return acc?!Number.isNaN(Number.parseFloat(cur)):!1},!0)}\nfunction equalHeight(){function setHeight(column){var setHeight=$(column).outerHeight();$('> .wpb_column > .vc_column-inner',column).css('min-height',setHeight)}\nvar child_height=0;var column_height=0;if($('.site-wrapper').hasClass('legacy')){$('.wpb_row.double-column').each(function(){$('.row .row > .wpb_column',this).each(function(){if($(this).outerHeight()>column_height){column_height=$(this).outerHeight()}});$('.row',this).css(\"min-height\",column_height)})}else{$('.wpb_row.double-column').each(function(){$('> .wpb_column > .vc_column-inner',this).css(\"min-height\",column_height);setHeight(this)})}}\nfunction checkForOnScreen(){$('.counter-number').each(function(index){var $el=$(this)\nif(!$el.hasClass('animated')&&$el.isOnScreen()){$el.addClass('animated')\n$el.countTo({speed:5000})}})}\nfunction submenuHeight(){if(window.innerWidth<=991)return\n$('.menu-item-depth-0 > .sub-menu').each(function(){$(this).css({'display':'none','height':'auto'});$(this).attr('data-height',$(this).height());$(this).attr('style','')})}\nfunction makeTopOffsetChanger(){var $wpBar=$('#wpadminbar')\nvar $topBar=$('.top-bar')\nvar hasTopBar=$topBar.length\nvar isHeaderTransparent=$('.site-header-style-transparent').length\nvar isBoxedMenu=$('.site-header-style-boxed').length\nvar isFullScreenMenuType=$('.site-header-style-full-width').length||isBoxedMenu\nvar $preHeaderWrap=$('.preheader-wrap')\nvar isSearchOpen=$('.site-search-opened').length\nvar $siteSearch=$('.site-search')\nvar $navBarWrapper=$('.nav-bar-wrapper')\nreturn function(){topOffset=$siteHeader.offset().top\nvar wpBarHeight=$wpBar.length?$wpBar.height():0\nif(isHeaderTransparent&&hasTopBar){var topBarHeight=$topBar.innerHeight()\ntopOffset=window.innerWidth<600?wpBarHeight+topBarHeight:topBarHeight+Number.parseInt($('.nav-wrap').css('top').replace('px',''))}\nif(window.innerWidth>600){topOffset-=wpBarHeight}\nif(isFullScreenMenuType){if(window.innerWidth>991){topOffset+=$preHeaderWrap.height()}else{topOffset=0\nif(window.innerWidth<600){topOffset+=wpBarHeight}\nif(isSearchOpen){topOffset+=$siteSearch.height()}}\nif(isBoxedMenu){topOffset-=$navBarWrapper.height()\/2}}}}\nfunction stickyHeader(){if(window.scrollY>topOffset){$siteHeader.addClass('site-header-sticky-active')}else{$siteHeader.removeClass('site-header-sticky-active')}}\nfunction topBarSize(){$('.top-bar .container').css('height',$('.top-bar-left').innerHeight()+$('.top-bar-right').innerHeight()+15)}\nfunction handleScrollTopLinkVisibility(){if(window.scrollY>300&&!scrollTopVisible){scrollTopVisible=!0\nscrollTopEl.fadeIn()}else if(window.scrollY<300&&scrollTopVisible){scrollTopVisible=!1\nscrollTopEl.fadeOut()}}\nfunction resizeMiniCart(){if(window.innerWidth<768){$('.preheader-wrap .hidden-lg.cartwrap .mini-cart').width(window.innerWidth-60)}else{$('.preheader-wrap .hidden-lg.cartwrap .mini-cart').attr('style','')}}\nw.addEventListener('load',function(){if(w.location.hash){var target=document.querySelector(w.location.hash)\nif(!target)return\nvar waitForJquery=setInterval(function(){if(!isJqueryReady)return\nclearInterval(waitForJquery)\nw.anpsSmoothScroll.to(target)},100)}\nif(!isJqueryReady)return\nequalHeight()},!1)\nw.addEventListener('resize',throttle(function(){if(!isJqueryReady)return\nequalHeight()\nsubmenuHeight()\nchangeTopOffset()\nif($containerMasonry&&$containerMasonry.length){$containerMasonry.isotope('layout')}\nif(window.innerWidth>991){$('.top-bar .container').attr('style','')\n$('.top-bar').removeClass('top-bar-show top-bar-hide')}else if($('.top-bar-show').length){topBarSize()}},200),!1)\nw.addEventListener('scroll',function(){if(!isJqueryReady)return\nw.requestAnimationFrame(function(){if(isStickyHeader){changeTopOffset()\nstickyHeader()}})},{passive:!0})\nw.addEventListener('scroll',throttle(function(){if(!isJqueryReady)return\ncheckForOnScreen()\nif(scrollTopEl)handleScrollTopLinkVisibility()},100),{passive:!0})\n$(function(){isJqueryReady=!0\n$containerMasonry=$('.blog-masonry')\ntopOffset=0\n$siteHeader=$('.site-header')\nchangeTopOffset=makeTopOffsetChanger()\nisStickyHeader=$siteHeader.hasClass('site-header-sticky')\nscrollTopEl=$('#scrolltop')\nif(isStickyHeader)stickyHeader()\ncheckForOnScreen()\nsubmenuHeight()\n$('.nav-tabs a').on('click',function(e){e.preventDefault()\n$(this).tab('show')});if($containerMasonry&&$containerMasonry.length){$containerMasonry.isotope({itemSelector:'.blog-masonry .post',animationOptions:{duration:450,queue:!1}});$containerMasonry.isotope('layout')}\nfunction handleIsotopeFilterButton($el,$container){$el.addClass('selected')\nvar item=$el.attr('data-filter')!=='*'?'.':''\nitem+=$el.attr('data-filter')\n$container.isotope({filter:item})}\n$('.isotope').each(function(){var $container=$(this)\nvar isRandom=$container.hasClass('random')\nvar width=$container.width()\nvar isotopeConfig={itemSelector:'.isotope li'}\nif(isRandom){isotopeConfig.layoutMode='masonry'\nif(width>1140){isotopeConfig.masonry={columnWidth:292}}else if(width>940){isotopeConfig.masonry={columnWidth:242}}else{isotopeConfig.layoutMode='fitRows'}}else{isotopeConfig.layoutMode='fitRows'\nisotopeConfig.animationOptions={duration:750,queue:!1}}\n$container.isotope(isotopeConfig)\nif(isRandom){$('.filter button').on('click',function(){$('.filter button').removeClass('selected')\nhandleIsotopeFilterButton($(this),$container)})}else{var $filter=$container.parents('.wpb_column').find('.filter')\n$filter.find('button').on('click',function(){$(this).parents('.filter').find('button').removeClass('selected')\nhandleIsotopeFilterButton($(this),$container)})}\n$(window).on('resize',throttle(function(){var $filter=$('.filter button.selected')\nif(!$filter.length)return\nvar item=$filter.attr('data-filter')!=='*'?'.':''\nitem+=$filter.attr('data-filter')\n$container.isotope({filter:item})\n$container.isotope('layout')\nif(isRandom){width=$container.width()\nif(width>1140){isotopeConfig.masonry={columnWidth:292}}else if(width>940){isotopeConfig.masonry={columnWidth:242}}else{isotopeConfig.layoutMode='fitRows'}\n$container.isotope(isotopeConfig)}},500))\n$(window).on('load',function(){$container.isotope('layout')})})\nif($(window).height>700){$('.fullscreen').css('height',window.innerHeight)}\n$('.site-search-close').on('click',function(){$('.site-wrapper').removeClass('site-search-opened')});$('.site-search-toggle').on('click',function(){if(!$('.site-search-opened').length){$(window).scrollTop(0);$('.site-search-input').focus()}\n$('.site-wrapper').toggleClass('site-search-opened')});$('.navbar-toggle').on('click',function(){$('.site-navigation').toggleClass('site-navigation-opened')})\nif(!$('.menu-item-depth-0').length){$('#menu-main-menu > li').addClass('menu-item-depth-0')}\nif($('.site-search-toggle')&&!$('.site-search-toggle').hasClass('hidden-sm')){$('.cartwrap').addClass('cart-search-space')}\n$('.menu-item-depth-0 > a').on('mouseenter',function(){if(window.innerWidth>991){var $subMenu=$(this).siblings('.sub-menu');$subMenu.css('height',$subMenu.attr('data-height'))}});$('.menu-item-depth-0 > .sub-menu ').on('mouseenter',function(){if(window.innerWidth>991){$(this).css('height',$(this).attr('data-height'));$(this).css('overflow','visible')}});$('.menu-item-depth-0 > a').on('mouseleave',function(){var $subMenu=$(this).siblings('.sub-menu');$subMenu.attr('style','')});$('.menu-item-depth-0 > .sub-menu').on('mouseleave',function(){$(this).attr('style','')});$('.top-bar-close').on('click',function(){if(!$('.top-bar .container').attr('style')){topBarSize()\n$('.top-bar').addClass('top-bar-show').removeClass('top-bar-hide')}else{$('.top-bar .container').attr('style','')\n$('.top-bar').removeClass('top-bar-show').addClass('top-bar-hide')}\n$(this).trigger('blur')})\n$('.widget_product_search form').addClass('searchform');$('.searchform input[type=\"submit\"]').remove();$('.searchform div').append('<button type=\"submit\" class=\"fa fa-search\" id=\"searchsubmit\" value=\"\"><\/button>');$('.searchform input[type=\"text\"]').attr('placeholder',anps.search_placeholder);$('.blog-masonry').parent().removeClass('col-md-12');$('.post.style-3').parent().parent().removeClass('col-md-12').parent().removeClass('col-md-12');if($.fn.prettyPhoto){$(\"a[rel^='prettyPhoto']\").prettyPhoto()}\n$('.show-register').on('click',function(){$('#customer_login h3, #customer_login .show-register').addClass('hidden');$('#customer_login .register').removeClass('hidden')});$('body').on('added_to_cart',function(e){$('.added_to_cart').addClass('btn btn-md style-3')})\n$('.wpb_single_image .wpb_wrapper a[href$=\".jpg\"], .wpb_single_image .wpb_wrapper a[href$=\".png\"], .wpb_single_image .wpb_wrapper a[href$=\".gif\"]').attr('rel','lightbox');function doParallaxBg($el,speed){$(window).on('scroll',function(){window.requestAnimationFrame(function(){var yPos=-($(window).scrollTop()\/speed)\nvar coords='50% '+yPos+'px'\n$el.css({backgroundPosition:coords})})})}\n$('.parallax-window[data-type=\"background\"]').each(function(){var $bgobj=$(this)\nvar speed=Number.parseInt($bgobj.data('speed'),10)\nif(Number.isNaN(speed)||!speed)return\ndoParallaxBg($bgobj,speed)})\n$('.paraslider .tp-bgimg.defaultimg').each(function(){var $bgobj=$(this)\ndoParallaxBg($bgobj,5)})\nwindow.anpsSmoothScroll.setAdjuster(document.querySelector('.site-header .nav-wrap'))\nvar nav=$('.site-navigation')\n$(document).on('click','.js--scroll',function(e){e.preventDefault()\nvar trigger=this\nvar selector=trigger.getAttribute('href')||trigger.dataset.to\nvar aUrl=null\ntry{aUrl=new URL(selector,window.location.origin)}catch(e){}\nif(aUrl)selector=aUrl.hash\nvar target=document.querySelector(selector)\nif(!target)return\nanpsSmoothScroll.to(target).then(function(){anpsSmoothScroll.to(target,100)\nif(nav.hasClass('site-navigation-opened')){$('.navbar-toggle').trigger('click')}\nif(trigger.parentNode.classList.contains('menu-item')){nav.find('.current-menu-item').removeClass('current-menu-item')\ntrigger.parentNode.classList.add('current-menu-item')}})})\nvar setCurrentMenuItemFromHash=function(initRun){var menuItems=nav.find('.menu-item')\nif(!menuItems.length)return\nvar current=null\nmenuItems.each(function(){var a=$('a',this).get(0)\nvar aUrl=null\ntry{aUrl=new URL(a.getAttribute('href'),window.location)}catch(e){}\nif(!aUrl||aUrl.pathname!==window.location.pathname)return\nif(initRun&&aUrl.hash)a.classList.add('js--scroll')\nif(aUrl.hash===window.location.hash)current=this})\nif(current){current.classList.add('current-menu-item')\nreturn}\nvar currentCandidates=nav.find('.current-menu-item')\nif(currentCandidates.length){currentCandidates.removeClass('current-menu-item')\ncurrentCandidates.get(0).classList.add('current-menu-item')}else{menuItems.get(0).classList.add('current-menu-item')}}\nsetCurrentMenuItemFromHash(!0)\n$('#menu-main-menu').doubleTapToGo()\nvar $owls=$('.owl-carousel')\nif($owls.length){$owls.each(function(){var owl=$(this);var number_items=$(this).attr(\"data-col\");var loop=!0;if(number_items>=owl.children().length){loop=!1;owl.parents('.wpb_column').find('.owlprev, .owlnext').hide()}\nowl.owlCarousel({loop:loop,margin:30,responsiveClass:!0,nav:owl.data('nav')!==undefined,navText:['<i class=\"fa fa-chevron-left\"><\/i>','<i class=\"fa fa-chevron-right\"><\/i>',],responsive:{0:{items:1,slideBy:1},600:{items:2,slideBy:2},992:{items:number_items,slideBy:number_items}}})\nowl.siblings().find('.owlnext').on('click',function(){owl.trigger('next.owl.carousel')});owl.siblings().find('.owlprev').on('click',function(){owl.trigger('prev.owl.carousel')})})}\n$('.wpcf7-form-control-wrap > select').each(function(){$(this).parent('.wpcf7-form-control-wrap').addClass('anps-select-wrap')})\n$('.map').each(function(){var gmap={zoom:$(this).attr('data-zoom')?Number.parseInt($(this).attr('data-zoom'),10):15,address:$(this).attr('data-address'),markers:$(this).attr('data-markers'),icon:$(this).attr('data-icon'),typeID:$(this).attr('data-type'),ID:$(this).attr('id'),styles:$(this).attr('data-styles')?JSON.parse($(this).attr('data-styles')):''}\nvar gmapScroll=$(this).attr('data-scroll')?$(this).attr('data-scroll'):'false';var markersArray=[];var bound=new google.maps.LatLngBounds();if(gmapScroll==='false'){gmap.draggable=!1\ngmap.scrollwheel=!1}\nif(gmap.markers){gmap.markers=gmap.markers.split('|')\ngmap.markers.forEach(function(marker){if(!marker)return\nmarker=$.parseJSON(marker)\nif(checkCoordinates(marker.address)){marker.position=marker.address.split(',')\ndelete marker.address}\nmarkersArray.push(marker)})\n$('#'+gmap.ID).gmap3({zoom:gmap.zoom,draggable:gmap.draggable,scrollwheel:gmap.scrollwheel,mapTypeId:google.maps.MapTypeId[gmap.typeID],styles:gmap.styles}).on({'tilesloaded':function(){if('anpsMapsLoaded' in window)window.anpsMapsLoaded()}}).marker(markersArray).then(function(results){var center=null\nwindow.anpsMarkers=results;if(typeof results[0].position.lat!=='function'||typeof results[0].position.lng!=='function')return!1\nresults.forEach(function(m,i){if(markersArray[i].center){center=new google.maps.LatLng(m.position.lat(),m.position.lng())}else{bound.extend(new google.maps.LatLng(m.position.lat(),m.position.lng()))}})\nif(!center)center=bound.getCenter()\nthis.get(0).setCenter(center)}).infowindow({content:''}).then(function(infowindow){var map=this.get(0);this.get(1).forEach(function(marker){if(!marker.data)return\nmarker.addListener('click',function(){infowindow.setContent(decodeURIComponent(marker.data))\nifowindow.open(map,marker)})})})}else{console.error('No markers found. Add markers to the Google maps item using Visual Composer.')}})\nresizeMiniCart()\n$('.anps_line-chart').each(function(){var data=JSON.parse($(this).attr('data-vc-values'));var chart=$(this).find('.anps_line-chart-canvas').get(0).getContext('2d');chart.canvas.width=$(this).parents(\".wpb_column\").width();chart.canvas.height=$(this).attr('data-anps-height')||221;new Chart(chart).Line(data,{responsive:!0})});$('.anps_round-chart').each(function(){var data=JSON.parse($(this).attr('data-vc-values'));var chart=$(this).find('.anps_round-chart-canvas').get(0).getContext('2d');chart.canvas.width=$(this).parents(\".wpb_column\").width();chart.canvas.height=$(this).attr('data-anps-height')*1.76||221;new Chart(chart).Pie(data,{responsive:!0})});$('.vc_tta-style-anps-ts-2 .vc_tta-tabs-container.col-sm-3').each(function(){$(this).siblings('.col-sm-9').find('.vc_tta-panel-body > *').css('min-height',$(this).height()+'px')});$('.product-header').on('click','a',function(e){if($(this).css('opacity')!=1){e.preventDefault();return!1}});$('.tnp-email').attr('placeholder',$('.tnp-field label').text());$('.tnp-field-button').on('click',function(e){if(e.target.nodeName=='DIV'){$(this).find('.tnp-button').click()}})})\nif(typeof window.vc_rowBehaviour!=='function'){window.vc_rowBehaviour=function(){var $=window.jQuery;function fullWidthRow(){var $elements=$('[data-vc-full-width=\"true\"]');$.each($elements,function(key,item){var verticalOffset=0;if($('.site-header-vertical-menu').length&&window.innerWidth>992){verticalOffset=$('.site-header-vertical-menu').innerWidth()}\nvar boxedOffset=0;if($('body.boxed').length&&window.innerWidth>992){boxedOffset=($('body').innerWidth()-$('.site-wrapper').innerWidth())\/2}\nvar $el=$(this);$el.addClass(\"vc_hidden\");var $el_full=$el.next(\".vc_row-full-width\");$el_full.length||($el_full=$el.parent().next(\".vc_row-full-width\"));var el_margin_left=parseInt($el.css(\"margin-left\"),10),el_margin_right=parseInt($el.css(\"margin-right\"),10),offset=0-$el_full.offset().left-el_margin_left,width=$(window).width()-verticalOffset-boxedOffset*2,positionProperty=$('html[dir=\"rtl\"]').length?'right':'left';if(positionProperty==='right'){verticalOffset=0}\nvar options={'position':'relative','box-sizing':'border-box','width':width};options[positionProperty]=offset+verticalOffset+boxedOffset;$el.css(options);if(!$el.data(\"vcStretchContent\")){var padding=-1*offset-verticalOffset-boxedOffset;0>padding&&(padding=0);var paddingRight=width-padding-$el_full.width()+el_margin_left+el_margin_right;0>paddingRight&&(paddingRight=0),$el.css({\"padding-left\":padding+\"px\",\"padding-right\":paddingRight+\"px\"})}\n$el.attr(\"data-vc-full-width-init\",\"true\"),$el.removeClass(\"vc_hidden\")}),$(document).trigger(\"vc-full-width-row\",$elements)}\nfunction parallaxRow(){var vcSkrollrOptions,callSkrollInit=!1;return window.vcParallaxSkroll&&window.vcParallaxSkroll.destroy(),$(\".vc_parallax-inner\").remove(),$(\"[data-5p-top-bottom]\").removeAttr(\"data-5p-top-bottom data-30p-top-bottom\"),$(\"[data-vc-parallax]\").each(function(){var skrollrSpeed,skrollrSize,skrollrStart,skrollrEnd,$parallaxElement,parallaxImage,youtubeId;callSkrollInit=!0,\"on\"===$(this).data(\"vcParallaxOFade\")&&$(this).children().attr(\"data-5p-top-bottom\",\"opacity:0;\").attr(\"data-30p-top-bottom\",\"opacity:1;\"),skrollrSize=100*$(this).data(\"vcParallax\"),$parallaxElement=$(\"<div \/>\").addClass(\"vc_parallax-inner\").appendTo($(this)),$parallaxElement.height(skrollrSize+\"%\"),parallaxImage=$(this).data(\"vcParallaxImage\"),youtubeId=vcExtractYoutubeId(parallaxImage),youtubeId?insertYoutubeVideoAsBackground($parallaxElement,youtubeId):\"undefined\"!=typeof parallaxImage&&$parallaxElement.css(\"background-image\",\"url(\"+parallaxImage+\")\"),skrollrSpeed=skrollrSize-100,skrollrStart=-skrollrSpeed,skrollrEnd=0,$parallaxElement.attr(\"data-bottom-top\",\"top: \"+skrollrStart+\"%;\").attr(\"data-top-bottom\",\"top: \"+skrollrEnd+\"%;\")}),callSkrollInit&&window.skrollr?(vcSkrollrOptions={forceHeight:!1,smoothScrolling:!1,mobileCheck:function(){return!1}},window.vcParallaxSkroll=skrollr.init(vcSkrollrOptions),window.vcParallaxSkroll):!1}\nfunction fullHeightRow(){var $element=$(\".vc_row-o-full-height:first\");if($element.length){var $window,windowHeight,offsetTop,fullHeight;$window=$(window),windowHeight=$window.height(),offsetTop=$element.offset().top,windowHeight>offsetTop&&(fullHeight=100-offsetTop\/(windowHeight\/100),$element.css(\"min-height\",fullHeight+\"vh\"))}\n$(document).trigger(\"vc-full-height-row\",$element)}\n$(window).off(\"resize.vcRowBehaviour\").on(\"resize.vcRowBehaviour\",fullWidthRow).on(\"resize.vcRowBehaviour\",fullHeightRow),fullWidthRow(),fullHeightRow(),vc_initVideoBackgrounds(),parallaxRow()}}})(window,jQuery);\n","status":true}